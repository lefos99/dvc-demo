schema: '2.0'
stages:
  split_data:
    cmd: python code/split_data.py  --input data/raw/data.csv  --output data/processed
    deps:
    - path: code/split_data.py
      hash: md5
      md5: c7d0599909b552e0a1fa2bb15f1a53a4
      size: 3122
    - path: data/raw/data.csv
      hash: md5
      md5: 2e145752c5e9df5fe367d25b6a9d9179
      size: 124571
    params:
      params.yaml:
        split_data.random_state: 42
        split_data.test_size: 0.2
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: d5817f45d1fdcf02bf623853576b561d
      size: 25527
    - path: data/processed/train.csv
      hash: md5
      md5: 12b24aa87cd748c7f2dbac58444e2181
      size: 100516
  compute_data_statistics@train:
    cmd: python code/data_statistics.py  --train data/processed/train.csv  --output
      data/processed/statistics/train
    deps:
    - path: code/data_statistics.py
      hash: md5
      md5: 20c084aa73f42265e276a6b7b61b0dcc
      size: 8192
    - path: data/processed/train.csv
      hash: md5
      md5: 12b24aa87cd748c7f2dbac58444e2181
      size: 100516
    params:
      params.yaml:
        data_statistics.important_features:
        - radius_mean
        - texture_mean
        - perimeter_mean
        - area_mean
        - smoothness_mean
        - compactness_mean
        - concavity_mean
        - concave points_mean
        - symmetry_mean
        - fractal_dimension_mean
        data_statistics.pairplot_features:
        - radius_mean
        - texture_mean
        - perimeter_mean
        - area_mean
        data_statistics.top_variance_features: 20
    outs:
    - path: data/processed/statistics/train/class_distribution.png
      hash: md5
      md5: a663c82ecd124576d0f17daa284e96fb
      size: 104758
    - path: data/processed/statistics/train/correlation_heatmap.png
      hash: md5
      md5: 4db1ef97f7f92a281f144567b0f7a15f
      size: 620165
    - path: data/processed/statistics/train/feature_distributions.png
      hash: md5
      md5: 213d8ce51a78d1fef8e788e7733871f5
      size: 495526
    - path: data/processed/statistics/train/feature_variance.png
      hash: md5
      md5: 13d05cbf6526f23d3afbe210c09fc624
      size: 216679
    - path: data/processed/statistics/train/pairplot_key_features.png
      hash: md5
      md5: 94c72aaff4817be94eef45fbd0876622
      size: 1399391
    - path: data/processed/statistics/train/statistics.json
      hash: md5
      md5: 43024da4475ab5971f825bdd2312479b
      size: 7654
    - path: data/processed/statistics/train/summary_statistics.csv
      hash: md5
      md5: e27cdf1706405f92fba89fe28e30e2cd
      size: 1897
  compute_data_statistics@test:
    cmd: python code/data_statistics.py  --train data/processed/test.csv  --output
      data/processed/statistics/test
    deps:
    - path: code/data_statistics.py
      hash: md5
      md5: 20c084aa73f42265e276a6b7b61b0dcc
      size: 8192
    - path: data/processed/test.csv
      hash: md5
      md5: d5817f45d1fdcf02bf623853576b561d
      size: 25527
    params:
      params.yaml:
        data_statistics.important_features:
        - radius_mean
        - texture_mean
        - perimeter_mean
        - area_mean
        - smoothness_mean
        - compactness_mean
        - concavity_mean
        - concave points_mean
        - symmetry_mean
        - fractal_dimension_mean
        data_statistics.pairplot_features:
        - radius_mean
        - texture_mean
        - perimeter_mean
        - area_mean
        data_statistics.top_variance_features: 20
    outs:
    - path: data/processed/statistics/test/class_distribution.png
      hash: md5
      md5: 763e3fcca645bba1d532ad440b38b922
      size: 108466
    - path: data/processed/statistics/test/correlation_heatmap.png
      hash: md5
      md5: ae8568902f7e045a5ea3faed1710ae9b
      size: 620349
    - path: data/processed/statistics/test/feature_distributions.png
      hash: md5
      md5: bb119457c731088b2f25058608809bed
      size: 466047
    - path: data/processed/statistics/test/feature_variance.png
      hash: md5
      md5: cf5aba275b42fd246d7fe24e0c4804cf
      size: 215069
    - path: data/processed/statistics/test/pairplot_key_features.png
      hash: md5
      md5: be56e35cb77568e534cb599080277c31
      size: 949898
    - path: data/processed/statistics/test/statistics.json
      hash: md5
      md5: ce74781523ee0e334fec77ba08c4bb3f
      size: 7779
    - path: data/processed/statistics/test/summary_statistics.csv
      hash: md5
      md5: 939a825f209e6bad35508e5e8e0792bd
      size: 1895
  train_model:
    cmd: python code/train_model.py  --train data/processed/train.csv  --output data/model
    deps:
    - path: code/train_model.py
      hash: md5
      md5: 6864c24657e8ff778d31648aa066dc35
      size: 7850
    - path: data/processed/train.csv
      hash: md5
      md5: 12b24aa87cd748c7f2dbac58444e2181
      size: 100516
    params:
      params.yaml:
        train_model.bootstrap: true
        train_model.max_depth: 1
        train_model.max_features: sqrt
        train_model.min_samples_leaf: 1
        train_model.min_samples_split: 2
        train_model.n_estimators: 1
        train_model.pos_label: M
        train_model.random_state: 42
        train_model.use_feature_scaling: true
    outs:
    - path: data/model/feature_importance.csv
      hash: md5
      md5: fe646f526d3b2d419cc2288d460e65df
      size: 594
    - path: data/model/random_forest_model.joblib
      hash: md5
      md5: c136bab0774ed786256c5712d49f7fab
      size: 2201
    - path: data/model/scaler.joblib
      hash: md5
      md5: fa891da44b3e8949834ec6d4e61c8ae3
      size: 2087
    - path: data/model/training_info.json
      hash: md5
      md5: 6bce57751c821fd21c1e793c80586947
      size: 1136
  evaluate_model:
    cmd: python code/evaluate_model.py  --model data/model/random_forest_model.joblib
      --scaler data/model/scaler.joblib --test data/processed/test.csv  --output data/model/evaluation
    deps:
    - path: code/evaluate_model.py
      hash: md5
      md5: ee76bdbc769489bfb4883e14c8949659
      size: 9545
    - path: data/model/random_forest_model.joblib
      hash: md5
      md5: c136bab0774ed786256c5712d49f7fab
      size: 2201
    - path: data/model/scaler.joblib
      hash: md5
      md5: fa891da44b3e8949834ec6d4e61c8ae3
      size: 2087
    - path: data/processed/test.csv
      hash: md5
      md5: d5817f45d1fdcf02bf623853576b561d
      size: 25527
    params:
      params.yaml:
        evaluate_model.pos_label: M
        evaluate_model.top_features_to_plot: 20
    outs:
    - path: data/model/evaluation/confusion_matrix.png
      hash: md5
      md5: f17dff15e76afa96d697ef3f943b41e7
      size: 77535
    - path: data/model/evaluation/feature_importance.csv
      hash: md5
      md5: fe646f526d3b2d419cc2288d460e65df
      size: 594
    - path: data/model/evaluation/feature_importance.png
      hash: md5
      md5: d8b7d813483680797fb4a7c48a18dab3
      size: 222562
    - path: data/model/evaluation/metrics.json
      hash: md5
      md5: d862d39b0496a0822932e188862f75ec
      size: 257
    - path: data/model/evaluation/prediction_analysis.png
      hash: md5
      md5: 4bca2710daf15bf4747876df1c65f7a6
      size: 132521
    - path: data/model/evaluation/roc_curve.png
      hash: md5
      md5: d921c3f4bd26653d605e5d6294e20c78
      size: 151356
