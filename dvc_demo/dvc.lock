schema: '2.0'
stages:
  split_data:
    cmd: python code/split_data.py  --input data/raw/data.csv  --output data/processed  --test-size
      0.2  --random-state 42
    deps:
    - path: code/split_data.py
      hash: md5
      md5: 963e904487ad770d683b593108838348
      size: 3486
    - path: data/raw/data.csv
      hash: md5
      md5: 2e145752c5e9df5fe367d25b6a9d9179
      size: 124571
    params:
      params.yaml:
        split_data.random_state: 42
        split_data.test_size: 0.2
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: d5817f45d1fdcf02bf623853576b561d
      size: 25527
    - path: data/processed/train.csv
      hash: md5
      md5: 12b24aa87cd748c7f2dbac58444e2181
      size: 100516
  compute_data_statistics@train:
    cmd: python code/data_statistics.py  --train data/processed/train.csv  --output
      data/reports/statistics/train
    deps:
    - path: code/data_statistics.py
      hash: md5
      md5: d2b4f8a6b05d093e8de381b55a679db6
      size: 8728
    - path: data/processed/train.csv
      hash: md5
      md5: 12b24aa87cd748c7f2dbac58444e2181
      size: 100516
    params:
      params.yaml:
        data_statistics.important_features:
        - radius_mean
        - texture_mean
        - perimeter_mean
        - area_mean
        - smoothness_mean
        - compactness_mean
        - concavity_mean
        - concave points_mean
        - symmetry_mean
        - fractal_dimension_mean
        data_statistics.pairplot_features:
        - radius_mean
        - texture_mean
        - perimeter_mean
        - area_mean
        data_statistics.top_variance_features: 20
    outs:
    - path: data/reports/statistics/train/class_distribution.png
      hash: md5
      md5: fcd515d4cc20b3fce172b3662d70e246
      size: 104154
    - path: data/reports/statistics/train/correlation_heatmap.png
      hash: md5
      md5: 7df3c572834739d2bc60e9b8108819a9
      size: 619067
    - path: data/reports/statistics/train/feature_distributions.png
      hash: md5
      md5: 6f7dd07bc94b910e38af8e7ba6bf4d74
      size: 498759
    - path: data/reports/statistics/train/feature_variance.png
      hash: md5
      md5: 09d757e6612afe657f57a417cdd4417a
      size: 216198
    - path: data/reports/statistics/train/pairplot_key_features.png
      hash: md5
      md5: 94c72aaff4817be94eef45fbd0876622
      size: 1399391
    - path: data/reports/statistics/train/statistics.json
      hash: md5
      md5: 43024da4475ab5971f825bdd2312479b
      size: 7654
    - path: data/reports/statistics/train/summary_statistics.csv
      hash: md5
      md5: e27cdf1706405f92fba89fe28e30e2cd
      size: 1897
  compute_data_statistics@test:
    cmd: python code/data_statistics.py  --train data/processed/test.csv  --output
      data/reports/statistics/test
    deps:
    - path: code/data_statistics.py
      hash: md5
      md5: d2b4f8a6b05d093e8de381b55a679db6
      size: 8728
    - path: data/processed/test.csv
      hash: md5
      md5: d5817f45d1fdcf02bf623853576b561d
      size: 25527
    params:
      params.yaml:
        data_statistics.important_features:
        - radius_mean
        - texture_mean
        - perimeter_mean
        - area_mean
        - smoothness_mean
        - compactness_mean
        - concavity_mean
        - concave points_mean
        - symmetry_mean
        - fractal_dimension_mean
        data_statistics.pairplot_features:
        - radius_mean
        - texture_mean
        - perimeter_mean
        - area_mean
        data_statistics.top_variance_features: 20
    outs:
    - path: data/reports/statistics/test/class_distribution.png
      hash: md5
      md5: 71c710a354031fb1fba3a8e8e691ad0f
      size: 108049
    - path: data/reports/statistics/test/correlation_heatmap.png
      hash: md5
      md5: f9dcf8ddc401e47b8cc6607f09bf52fe
      size: 619159
    - path: data/reports/statistics/test/feature_distributions.png
      hash: md5
      md5: 35a4a64e202c9a4f6fb4ec568010815f
      size: 466468
    - path: data/reports/statistics/test/feature_variance.png
      hash: md5
      md5: 68488905ccccfdd41ce84a5a8fd5da59
      size: 214742
    - path: data/reports/statistics/test/pairplot_key_features.png
      hash: md5
      md5: be56e35cb77568e534cb599080277c31
      size: 949898
    - path: data/reports/statistics/test/statistics.json
      hash: md5
      md5: ce74781523ee0e334fec77ba08c4bb3f
      size: 7779
    - path: data/reports/statistics/test/summary_statistics.csv
      hash: md5
      md5: 939a825f209e6bad35508e5e8e0792bd
      size: 1895
  train_model:
    cmd: python code/train_model.py  --train data/processed/train.csv  --test data/processed/test.csv  --output
      data/models  --n-estimators 10  --max-depth 2 --min-samples-split 2 --min-samples-leaf
      1 --max-features sqrt --bootstrap true --random-state 42 --n-jobs -1
    deps:
    - path: code/train_model.py
      hash: md5
      md5: fac012cdc5abd659e193a4ccd0f7ffae
      size: 14650
    - path: data/processed/test.csv
      hash: md5
      md5: d5817f45d1fdcf02bf623853576b561d
      size: 25527
    - path: data/processed/train.csv
      hash: md5
      md5: 12b24aa87cd748c7f2dbac58444e2181
      size: 100516
    params:
      params.yaml:
        train_model.bootstrap: true
        train_model.max_depth: 2
        train_model.max_features: sqrt
        train_model.min_samples_leaf: 1
        train_model.min_samples_split: 2
        train_model.n_estimators: 10
        train_model.n_jobs: -1
        train_model.pos_label: M
        train_model.random_state: 42
        train_model.top_features_to_plot: 20
        train_model.use_feature_scaling: true
    outs:
    - path: data/models/confusion_matrix.png
      hash: md5
      md5: f64b2757f078073ecfe7f7fd724fb572
      size: 72085
    - path: data/models/feature_importance.csv
      hash: md5
      md5: 57275c94c128ca56a4be03f1e6f3368c
      size: 869
    - path: data/models/feature_importance.png
      hash: md5
      md5: 9b1e6ab435460bef64ecc1a1d1fea36f
      size: 224543
    - path: data/models/metrics.json
      hash: md5
      md5: 15fb21a8c73b105797be4818aa1931b8
      size: 485
    - path: data/models/prediction_analysis.png
      hash: md5
      md5: b7fb871a22a9389c71bd4f3459bff4e1
      size: 113091
    - path: data/models/random_forest_model.joblib
      hash: md5
      md5: a3093f0234fe8a8ca0ffe0dbc43a0f16
      size: 11017
    - path: data/models/roc_curve.png
      hash: md5
      md5: 2ed44bbf1b64ec76670111669ef890fd
      size: 129628
    - path: data/models/scaler.joblib
      hash: md5
      md5: fa891da44b3e8949834ec6d4e61c8ae3
      size: 2087
